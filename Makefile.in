# Certainty cluster

#MKL_LIB_DIR=/opt/intel/mkl/10.1.2.024/lib/em64t
#INTEL_LIB_DIR=/opt/intel/Compiler/11.1/064/lib/intel64

ADOLC_HOME = /home/ikj/packages/adolc_base_2.2.1_bigBuffer
COLPACK_HOME = /home/ikj/packages/ADOL-C-2.2.1/ThirdParty/ColPack/build/

#PETSC_DIR = /home/ikj/packages/petsc-3.2-p7/
    #MVAPICH (with HyPRE?)
#PETSC_DIR = /home/ikj/packages/petsc-3.2-p7new/petsc-3.2-p7
    #MVAPICH2 with HyPRE
PETSC_DIR = /home/ikj/packages/petsc-3.2-p7
#PETSC_ARCH = arch-linux2-c-debug
#PETSC_ARCH = arch-linux2-c-debug-O0
#PETSC_ARCH = install-gnu-debug-withhypre
PETSC_ARCH = install-mvapich2.0rc1-intel14-withhypre

PETSC_INC = -I${PETSC_DIR}/include -I${PETSC_DIR}/${PETSC_ARCH}/include
include ${PETSC_DIR}/${PETSC_ARCH}/conf/petscvariables
include ${PETSC_DIR}/conf/variables

#PETSC_LIB = -L$(PETSC_DIR)/lib $(PETSC_KSP_LIB_BASIC) \
#            -L$(MKL_LIB_DIR) -Wl,-rpath,$(MKL_LIB_DIR) \
#             $(MKL_LIB_DIR)/libmkl_lapack.a \
#             $(MKL_LIB_DIR)/libmkl_em64t.a \
#            -L$(INTEL_LIB_DIR) -Wl,-rpath,$(INTEL_LIB_DIR) \
#            -lifcore -lsvml -liomp5

#PARMETIS_INC = -I$(HOME)/libs/ParMetis-3.1 
#PARMETIS_LIB = -L$(HOME)/libs/ParMetis-3.1 -lparmetis
    #MVAPICH
PARMETIS_INC = -I$(HOME)/packages/ParMetis-3.1
PARMETIS_LIB = -L$(HOME)/packages/ParMetis-3.1 -lparmetis
    #MVAPICH2

METIS_LIB = -lmetis

CC = mpicxx

#CFLAGS = -O3 -DDEBUG -DMPI_OFFSET_IS_LONG_LONG_INT -DWITH_PARMETIS -DNO_ASSERT -DWITH_PETSC -I. $(PARMETIS_INC) $(PETSC_INC)
CFLAGS = -O3 -g -DMPI_OFFSET_IS_LONG_LONG_INT -DWITH_PARMETIS -DNO_ASSERT -DWITH_PETSC -I. $(PARMETIS_INC) $(PETSC_INC)
#CFLAGS = -O0 -g -DMPI_OFFSET_IS_LONG_LONG_INT -DWITH_PARMETIS -DNO_ASSERT -DWITH_PETSC -I. $(PARMETIS_INC) $(PETSC_INC)

#CFLAGS = -O3 -lopen-pal -libverbs -no-prec-div -DMPI_OFFSET_IS_LONG_LONG_INT -DWITH_PARMETIS -DNO_ASSERT -DWITH_PETSC -I. $(PARMETIS_INC) $(PETSC_INC)

CLIBS = $(PARMETIS_LIB) $(MPI_LIBS) $(METIS_LIB) $(PETSC_LIB)

